---
title: "Sourceryã«å…¥é–€ã—ãŸ"
emoji: "ğŸ£"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Swift"]
published: false
---

## æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®šã—ãŸå ´æ‰€ã«ã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¿ã‚¤ãƒ—ã¨å ´æ‰€ã‚’æ±ºã‚ã‚‹
è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ãŒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…éƒ¨ã®å ´åˆï¼Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚¯ãƒ©ã‚¹ã®å ´åˆï¼Œ`for type in types.classes`ï¼Œæ§‹é€ ä½“ã®å ´åˆã¯`for type in types.structs`ï¼Œåˆ—æŒ™å‹ã®å ´åˆã¯`for type in types.enums`ï¼Œãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å ´åˆã¯`for type in types.protocols`ã¨ãªã‚‹ï¼
```sample1.stencil
{% for type in types.classes %}
//sourcery:inline::{{ type.name }}.TemplateName

//sourcery:end
{% forend %}
```
ã“ã‚Œã§`//sourcery:`ã®é–“ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒ¼ãƒ‰ãŒè‡ªå‹•ç”Ÿæˆã®å¯¾è±¡ã¨ãªã‚‹ï¼

### å¼•æ•°ã¨ãã®æ‰±ã„ã‚’æŒ‡å®šã™ã‚‹
sourceryã§ã¯å¼•æ•°ã‚’argumentãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å…¥åŠ›ã§ãã‚‹ï¼
```
{% for key, value in argument %}

{% for end}
```
key,valueã§ãƒ¯ãƒ³ã‚»ãƒƒãƒˆã®ã‚¤ãƒ¡ãƒ¼ã‚¸(?)ï¼Œ`value in argument`ã§ã¯ãªãã¦ï¼Œ`key, value in argument`

arugumentãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§å…¥åŠ›ã—ãŸå€¤`key=value`ã¯ï¼Œ.stencilãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ã¯ãã‚Œãã‚Œ`{{key}`,`{{value}}`ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ï¼
```
let {{key}}Label: {{value}}
```

ä»¥ä¸Šã‚’ã¾ã¨ã‚ã‚‹ã¨
```sample.stencil
{% for type in types.classes %}
//sourcery:inline::{{ type.name }}.TemplateName
{% for key, value in argument %}
let {{key}}Label: {{value}}
{% for end}
//sourcery:end
{% forend %}
```
ã«ã¤ã„ã¦
```
sourcery --sources SomeApp/Generated/SomeViewController.generated.swift --templates SomeApp/sample.stencil --output SomeApp/Generated/SampleViewController.generated.swift --args titile=String
```
ã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã§
```SampleViewController.generated.swift
class SomeViewController: UIViewController {

}
```
ãŒ
```SampleViewController.generated.swift
class SomeViewController: UIViewController {
let titleLabel: String    
}
```
ã¨ãªã‚‹ï¼

## ã‚³ãƒ¼ãƒ‰ã ã‘ã§ãªããƒ•ã‚¡ã‚¤ãƒ«ã”ã¨è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³
###